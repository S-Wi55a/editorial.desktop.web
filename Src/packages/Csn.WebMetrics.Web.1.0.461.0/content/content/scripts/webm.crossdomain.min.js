function CDX(n,t,i){var r=this,e={},c="",o,f,h;t=t||window;i=i||document;var a=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+n+"=([^&#]*)",u=new RegExp(r),i=u.exec(t.location.href);return i==null?"":i[1]},l=function(n){return n.replace(/^\s+|\s+$/g,"")},v=function(t,r,u){var f="",e="";u&&(f=";expires="+u.toGMTString());n&&(e=";domain="+n.fpcdom);i.cookie=t+"="+r+f+e+";path=/"},u=function(n){var u=i.cookie.split(";"),f="",t,e,r,o=u.length;if(i.cookie!="")for(r=0;r<o;r++)t=u[r].split("="),e=l(t[0]),e==n&&(f=decodeURIComponent(l(t.splice(1,t.length-1).join("="))));return f},s=function(n){var t=new Date;return t.setTime(t.getTime()+n*1e3),t};r.doGenCookieUrl=function(n,t,i){var r=a(n)||u(t);return r?(v(t,r,i),r):""};r.doCdxWt=function(){return r.doGenCookieUrl("CDX.WT","WT_FPC",s(31536e4))};r.doCdxMs=function(){return r.doGenCookieUrl("CDX.MS","WT_MS",s(2592e3))};r.doAttrC=function(){return r.doGenCookieUrl("CDX.AC","WT_AC",s(2592e3))};r.doAttrL=function(){return r.doGenCookieUrl("CDX.LA","WT_LA",s(2592e3))};r.doAttrF=function(){return r.doGenCookieUrl("CDX.FA","WT_FA",s(2592e3))};r.getWTUrlParam=function(){var t=u("WT_FPC"),i=u("WT_AC"),f=u("WT_LA"),e=u("WT_FA"),n=r.queryBuilder("/");return t&&n.update("CDX.WT",encodeURIComponent(t)),i&&n.update("CDX.AC",encodeURIComponent(i)),f&&n.update("CDX.LA",encodeURIComponent(f)),e&&n.update("CDX.FA",encodeURIComponent(e)),c=n.toString()};r.queryBuilder=function(n,t){var i={},u=n.match(/\?([^#]+)#?/)?RegExp.$1:"",r=n.replace(u,""),f=u.split("&");return $.each(f,function(){var n=this.split("=");i[n[0]]=t?n[1]:decodeURI(n[1])}),{update:function(n,t){i[n]=t},remove:function(n){delete i[n]},value:function(n){return i[n]||""},toString:function(n){var u=[];for(var t in i)t&&i.hasOwnProperty(t)&&u.push(t+"="+$.trim(i[t]));return n?(r.indexOf("?")<0?r+"?":r)+u.join("&"):u.join("&")}}};r.wireUpCrossDomainLinks=function(){$("a[data-webm-cdlink]").each(function(){var s=$(this).attr("href"),n=r.queryBuilder(s,!0),t=u("WT_FPC"),i=u("WT_MS"),f=u("WT_AC"),e=u("WT_LA"),o=u("WT_FA");t&&n.update("CDX.WT",encodeURIComponent(t));i&&n.update("CDX.MS",encodeURIComponent(i));f&&n.update("CDX.AC",encodeURIComponent(f));e&&n.update("CDX.LA",encodeURIComponent(e));o&&n.update("CDX.FA",encodeURIComponent(o));$(this).attr("href",n.toString(!0))})};try{o=t.location.search;e.mId=r.doCdxMs();e.wtId=r.doCdxWt();e.attrC=r.doAttrC();e.attrL=r.doAttrL();e.attrF=r.doAttrF();(o.indexOf("CDX.MS")>-1||o.indexOf("CDX.WT")>-1||o.indexOf("CDX.AC")>-1||o.indexOf("CDX.LA")>-1||o.indexOf("CDX.FA")>-1)&&(e.cdxOccurred=!0,f=r.queryBuilder(o),f.remove("CDX.MS"),f.remove("CDX.WT"),f.remove("CDX.AC"),f.remove("CDX.LA"),f.remove("CDX.FA"),h=t.location.pathname,f.toString().length>0&&(h+="?"+f.toString()),t.location.hash&&(h+="#"+t.location.hash),t.history.replaceState("","",h));r.getWTUrlParam();r.wireUpCrossDomainLinks()}catch(y){}return{context:e,debug:r,linkTrackParam:c}}
/*
//# sourceMappingURL=webm.crossdomain.min.js.map
*/