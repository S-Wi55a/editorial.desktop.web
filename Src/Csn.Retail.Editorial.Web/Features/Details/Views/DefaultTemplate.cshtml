@using Csn.Retail.Editorial.Web.Infrastructure.AssetMappers
@using Csn.Retail.Editorial.Web.Infrastructure.Extensions
@model Csn.Retail.Editorial.Web.Features.Details.Models.ArticleViewModel

@{
    var tenantName = Html.CurrentTenant().Name.ToLower();
}

@section Head {
    @{ Html.RenderAction("WebMetricsScripts", "Tracking"); }
    @{ Html.RenderPartial("Partials/Tracking/_WebTrendsData", Model); }
    @{ Html.RenderPartial("Partials/Head/_BasicSeoData", Model.SeoData); }
    @{ Html.RenderPartial("Partials/Head/_SocialMetaData", Model.SocialMetaData); }
}

@section Styles {
    @Html.AssetCss("details-page--" + tenantName)
}


@section TopScripts {
}

@{ Html.RenderPartial("_Header", Model.MediaMotiveData); }

<article class="article-type article-type--@Model.HeroSection.Type.ToString().ToLower()">
    @{ Html.RenderPartial("Partials/Hero/_Hero", Model.HeroSection); }
    <div class="container">
        @{ Html.RenderPartial("Partials/_Main"); }
        @{ Html.RenderPartial("Partials/_Aside"); }
    </div>
</article>

@if (Model.MoreArticleData != null && Model.MoreArticleData.Any())
{
    Html.RenderPartial("Partials/Widgets/MoreArticles/_MoreArticlesContainer", Model.MoreArticleData);
}

@section BottomScripts
{
    @Html.AssetJs("details-page--" + tenantName, LoadType.Defer)
    @{ Html.RenderPartial("Partials/Tracking/_GoogleAnalyticsDetails", Model.GoogleAnalyticsDetailsData); }
    @{ Html.RenderPartial("Partials/MediaMotive/_Krux", Model.MediaMotiveData); }
    @{ Html.RenderPartial("Partials/Disqus/_DisqusData", Model.DisqusData); } @*Disqus View in Main*@

    @{ Html.RenderAction("HtmlTrackingDetails", "Tracking", new { Article = Model, PageType = "details" }); }
}

@if (Model.StockListingData != null && Model.StockListingData.Filters.Any())
{
    Html.RenderPartial("Partials/Widgets/StockForSale/_StockForSaleContainer", Model.StockListingData);
}
