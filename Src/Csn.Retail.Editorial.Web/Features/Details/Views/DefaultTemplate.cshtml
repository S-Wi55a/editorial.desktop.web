@using Csn.Retail.Editorial.Web.Features.Shared.Proxies.EditorialApi
@using Csn.Retail.Editorial.Web.Infrastructure.AssetMappers
@using Csn.Retail.Editorial.Web.Infrastructure.Extensions
@using React.Web.Mvc
@model Csn.Retail.Editorial.Web.Features.Details.Models.ArticleViewModel

@{
    var tenantName = Html.CurrentTenant().Name.ToLower();
    var isWide = Model.ArticleTemplateType == ArticleTemplateType.Wide ? true : false;

}

@section Head {
    @{ Html.RenderPartial("Partials/Tracking/_WebTrendsData", Model.WebTrendsTags); }
    @{ Html.RenderPartial("Partials/Head/_BasicSeoData", Model.SeoData); }
    @{ Html.RenderPartial("Partials/Head/_SocialMetaData", Model.SocialMetaData); }
}

@section Styles {
    @Html.AssetCss("details-page--" + tenantName)
}

@section TopScripts {
    @Html.AssetJs("details.vendor", LoadType.Defer)
    @Html.AssetJs("details-page--" + tenantName, LoadType.Defer)
    @Html.AssetJs("csn.mediaMotive--" + tenantName, LoadType.Defer)

}


<div class="page-container">
    
    @{ Html.RenderPartial("_Header", Model); }

    <article class="article-type article-type--@Model.HeroSection.Type.ToString().ToLower()">
        @{ Html.RenderPartial("Partials/Hero/_Hero", Model.HeroSection); }

        @{ Html.RenderPartial("Partials/_Main"); }

        @if (!isWide)
        {
            Html.RenderPartial("Partials/_Aside");
        }



    </article>

    @{ Html.RenderPartial("Partials/Modal/_Modal"); }
</div>



@section BottomScripts
{
    @{ Html.RenderAction("WebMetricsScripts", "Tracking"); }
    @{ Html.RenderPartial("Partials/Tracking/_CsnInsights", Model.InsightsData); }
    @{ Html.RenderAction("HtmlTrackingDetails", "Tracking", new { Article = Model, PageType = "details" }); }
    @{ Html.RenderPartial("Partials/Widgets/SpecModule/_SpecModuleData", Model); }
    @if (Model.MoreArticleData != null)
    {
        Html.RenderPartial("Partials/Widgets/MoreArticles/_MoreArticleData", Model.MoreArticleData);
    }
    @if (Model.PolarNativeAdsData != null)
    {
        Html.RenderPartial("Partials/PolarNativeAds/_PolarNativeAds", Model.PolarNativeAdsData);
    }
    @{ Html.RenderPartial("Partials/Hotjar/_hotjarTracking"); }
    @{ Html.RenderPartial("Partials/MediaMotive/_MediaMotiveScripts"); }
    @{ Html.RenderPartial("Partials/MediaMotive/_Krux", Model.MediaMotiveData); }
}