<?xml version="1.0" encoding="utf-8"?>

<!-- For more information on using web.config transformation visit http://go.microsoft.com/fwlink/?LinkId=125889 -->

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <ImageServerSettings ImageServerUrlTemplate="https://latam-editorial.pxcrush.net/{0}/{1}" xdt:Transform="Replace" />
  <SeoSchemaSettings ArticleTypesForReviewSchema="Comparativas,Compra de Auto,Test Drive,Las Mejores Compras,Pruebas" LogoImageUrlPath="https://editorial.csnstatic.com/schema/{0}_WebVersion.png" xdt:Transform="Replace" />
  <EditorialRouteSettings BasePath="/noticias/" ResultsSegment="resultados" xdt:Transform="Replace"/>

  <Ingress.Cache.RedisConnection.Settings xdt:Transform="Replace">
    <add name="ConnectionString" value="latam-dev-appcache.5k05fg.ng.0001.usw2.cache.amazonaws.com:6379,defaultDatabase:6,connectRetry=1,keepAlive=180,name=RetailApi,abortConnect=false,connectTimeout=1000" />
    <add name="Db" value="12" />
  </Ingress.Cache.RedisConnection.Settings>
  <Ingress.RedisSettings xdt:Transform="Replace">
    <add name="ConnectionString" value="latam-dev-ingress.5k05fg.ng.0001.usw2.cache.amazonaws.com:6379,defaultDatabase:10,connectRetry=1,keepAlive=180,name=RetailApi,abortConnect=false,connectTimeout=1000" />
    <add name="DefaultDb" value="10" />
  </Ingress.RedisSettings>

  <Ingress.CacheSettings xdt:Transform="Replace">
    <add name="Enabled" value="true" />
  </Ingress.CacheSettings>
  <Ingress.ServiceRegistrySettings xdt:Transform="Replace">
    <add name="ApiUrl" value="http://serviceregistry-api.stg.latam.csnglobal.net/v1/" />
  </Ingress.ServiceRegistrySettings>

  <Ingress.LocalServiceRegistrySettings Enabled="false" xdt:Transform="Replace">
    <Services>
      <add name="api-search-editorials" value="http://editorial-latam.prod.ryvuss.csnglobal.net" />
    </Services>
  </Ingress.LocalServiceRegistrySettings>

  <ReactNetSettings ReuseJavaScriptEngines="true" UseDebugReact="false" StartEngines="25" MaxEngines="50" xdt:Transform="Replace" />

  <TenantsSettings DefaultTenant="chileautos" xdt:Transform="SetAttributes(DefaultTenant)" >
  </TenantsSettings>

  <system.web>
    <compilation xdt:Transform="RemoveAttributes(debug)" />
    <httpRuntime enableVersionHeader="false" targetFramework="4.6.1" maxUrlLength="500" relaxedUrlToFileSystemMapping="true" xdt:Transform="Replace" />
    <customErrors defaultRedirect="/noticias/error/"
        mode="RemoteOnly" xdt:Transform="Replace">
      <error statusCode="404" redirect="/noticias/error/404" />
      <error statusCode="500" redirect="/noticias/error/" />
    </customErrors>
    <!--
      In the example below, the "Replace" transform will replace the entire
      <customErrors> section of your web.config file.
      Note that because there is only one customErrors section under the
      <system.web> node, there is no need to use the "xdt:Locator" attribute.

      <customErrors defaultRedirect="GenericError.htm"
        mode="RemoteOnly" xdt:Transform="Replace">
        <error statusCode="500" redirect="InternalError.htm"/>
      </customErrors>
    -->
  </system.web>

  <appSettings>
    <add key="AssetDomain" value="https://s3-us-west-2.amazonaws.com/latam-dev-assets/retail/editorial/" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" />
    <add key="RedirectsConfigPath" value="/Features/Redirects/Config/latamRedirectConfig.json" xdt:Transform="SetAttributes" xdt:Locator="Match(key)"/>
  </appSettings>
</configuration>